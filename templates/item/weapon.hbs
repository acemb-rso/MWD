<form class="{{options.cssClass}}" autocomplete="off">
  <header class="sheet-header">
    <img class="anarchy-img profile-img" src="{{data.img}}" data-edit="img" data-tooltip="{{data.name}}"/>
    {{> 'systems/mwd/templates/item/parts/itemname.hbs'
      labelkey='ANARCHY.itemType.singular.weapon'
      type="weapon"
    }}
  </header>

  <nav class="sheet-tabs tabs" data-group="primary">
    <div class="sheet-tab" data-tab="main">
      <a>{{localize ANARCHY.item.tabs.main}}</a>
    </div>
    <div class="sheet-tab" data-tab="modifiers">
      <a>{{localize ANARCHY.item.tabs.modifiers}}</a>
    </div>
    <div class="sheet-tab-fill"></div>
  </nav>

  <section class="sheet-body">
    <div class="tab section-group" data-group="primary" data-tab="main">
      <div class="form-group">
        <label for="system.skill">{{localize 'ANARCHY.item.weapon.skill'}} </label>
        <select class="select-weapon-skill" name="system.skill" data-dtype="String">
            {{#select system.skill}}
            {{> 'systems/mwd/templates/common/enum-value-label.hbs' entries=ENUMS.skills}}
            {{/select}}
        </select>
      </div>
      <div class="form-group">
        <label for="system.weaponCategory">{{localize 'ANARCHY.item.weapon.category'}}</label>
        <select name="system.weaponCategory">
          {{#select system.weaponCategory}}
            {{> 'systems/mwd/templates/common/enum-value-label.hbs' entries=ENUMS.mwdWeaponCategories}}
          {{/select}}
        </select>
      </div>
      <div class="form-group">
        <label>{{localize 'ANARCHY.item.weapon.hardpoint'}}</label>
        <div class="flexrow">
          <select name="system.hardpointType">
            {{#select system.hardpointType}}
              {{> 'systems/mwd/templates/common/enum-value-label.hbs' entries=ENUMS.mwdHardpointTypes}}
            {{/select}}
          </select>
          <select name="system.hardpointSize">
            {{#select system.hardpointSize}}
              {{> 'systems/mwd/templates/common/enum-value-label.hbs' entries=ENUMS.mwdHardpointSizes}}
            {{/select}}
          </select>
        </div>
      </div>
      <div class="form-group">
        <label>{{localize 'ANARCHY.item.weapon.mountLocation'}}</label>
        <select name="system.mountLocation">
          {{#select system.mountLocation}}
            <option value="">{{localize 'ANARCHY.mwd.melee.locationAny'}}</option>
            {{> 'systems/mwd/templates/common/enum-value-label.hbs' entries=ENUMS.mwdMeleeLocations}}
          {{/select}}
        </select>
      </div>
      {{#if hasDrain}}
      <div class="form-group">
        <label for="system.drain">{{localize 'ANARCHY.item.weapon.drain'}} </label>
          <input class="type-numeric" type="number" data-dtype="Number"
            name="system.drain" value="{{system.drain}}"
          />
      </div>
      {{/if}}
      <div class="form-group">
        <label for="system.damage">
          {{localize 'ANARCHY.item.weapon.damage'}}
        </label>
        <div class="flexrow flex-wrap">
          <input class="type-numeric" type="number" data-dtype="Number"
            name="system.damage" value="{{system.damage}}"
          />
          <span>+
          <select name="system.damageAttribute" data-dtype="String">
              {{#select system.damageAttribute}}
              {{> 'systems/mwd/templates/common/enum-value-label.hbs' entries=ENUMS.attributes}}
              {{/select}}
          </select>
          /2</span>
        </div>
      </div>
      <div class="form-group">
        <label>
          {{> 'systems/mwd/templates/common/damage-code.hbs'
              strength=system.strength
              damage=system.damage
              monitor=system.monitor
              armor=(weaponArmorMode system.monitor system.noArmor)
          }}
        </label>
        <div>
          <select name="system.monitor" data-dtype="String">
            {{#select system.monitor}}
            {{> 'systems/mwd/templates/common/enum-value-label.hbs' entries=ENUMS.monitors}}
            {{/select}}
          </select>

          <input class="item-field-value" name="system.noArmor" type="checkbox" {{checked system.noArmor}}>
            <label>{{localize 'ANARCHY.item.weapon.noArmor'}}</label>
          </input>
        </div>
      </div>
      <div class="form-group">
        <label for="system.area" >{{localize 'ANARCHY.item.weapon.area'}} </label>
        <select name="system.area" data-dtype="String">
          {{#select system.area}}
          {{> 'systems/mwd/templates/common/enum-value-label.hbs' entries=ENUMS.areas}}
          {{/select}}
        </select>
      </div>
      <div class="form-group">
          <label for="system.defense" >{{localize 'ANARCHY.item.weapon.defense'}} </label>
          <select name="system.defense">
            {{selectOptions ENUMS.defenses selected=(fixedDefenseCode system.defense)
            nameAttr="code" labelAttr="labelkey" localize=true blank=''}}
          </select>
      </div>
      <div class="form-group">
          <label for="system.range.max" >{{localize 'ANARCHY.item.weapon.range.max'}} </label>
          <select name="system.range.max">
            {{#select system.range.max}}
            {{> 'systems/mwd/templates/common/enum-value-label.hbs' entries=ENUMS.ranges}}
            {{/select}}
          </select>
      </div>
      {{#each (weaponRangeList system.range)}}
        {{#if allowed}}
        <div class="form-group">
            <label for="system.range.{{key}}" >{{localize (concat 'ANARCHY.range.' key)}} </label>
            <input class="type-numeric" type="number" data-dtype="Number"
              name="system.range.{{key}}" value="{{numberFormat value decimals=0 sign=false}}"
            />
        </div>
        {{/if}}
      {{/each}}
      {{> 'systems/mwd/templates/item/parts/inactive.hbs'}}
      {{> 'systems/mwd/templates/item/parts/references.hbs'}}
    </div>
    <div class="tab section-group" data-group="primary" data-tab="modifiers">
      <div class="form-group">
        {{> 'systems/mwd/templates/item/parts/modifiers.hbs'}}
      </div>
    </div>
  </section>
</form>
